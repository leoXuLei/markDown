# 问题

## 调接口的 Request 方法

- 通用的`/api`开头的接口名，调用的格式是通用的`{ code： 0, Data: xx }`。但是如果是`/Auth`这种特殊的接口，其格式不是通用的，只能根据 status

```js
// 返回拦截
service.interceptors.response.use(
  (response: AxiosResponse) => {
    if (response.status === SUCCESS_STATUS) {
      console.log('response', response);
      // -------新加的分割线start-------
      // 特殊接口如`/Auth`，response.data就是数据，没有Code后面无法正常走handleRequest，所以再包一层
      if (!response?.data?.hasOwnProperty('Code')) {
        return Promise.resolve({
          Code: 0,
          Data: response.data,
          Message: 'No Code But Request Success.',
        });
      }
      // -------新加的分割线end-------
      return Promise.resolve(response.data);
    }
    return Promise.reject(response);
  },
```

# Tips

- 测试接口返回格式时，比如登录，可以输入正确的用户名和密码，也可以输入错误的，看看返回格式。
